angular.module("hooptie",["ngRoute","estimator.controller","estimator.service","secretary.controller","scheduler.controller","secretary.service","scheduler.service","scheduler.filter","firebase","ngAnimate","ui.date","ui.bootstrap.buttons"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/hub/",{templateUrl:"/hub/partials/dashboard.html"}).when("/hub/estimator",{templateUrl:"/hub/partials/estimator.html",controller:"EstimateCtrl"}).when("/hub/scheduler",{templateUrl:"/hub/partials/scheduler.html",controller:"ScheduleCtrl"}).when("/hub/secretary",{templateUrl:"/hub/partials/secretary.html"}).otherwise({redirectTo:"/hub"}),b.html5Mode(!0)}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).directive("btnRadio",["buttonConfig",function(a){var b=a.activeClass||"active",c=a.toggleEvent||"click";return{require:"ngModel",link:function(a,d,e,f){f.$render=function(){d.toggleClass(b,angular.equals(f.$modelValue,a.$eval(e.btnRadio)))},d.bind(c,function(){d.hasClass(b)||a.$apply(function(){f.$setViewValue(a.$eval(e.btnRadio)),f.$render()})})}}}]).directive("btnCheckbox",["buttonConfig",function(a){var b=a.activeClass||"active",c=a.toggleEvent||"click";return{require:"ngModel",link:function(a,d,e,f){function g(){var b=a.$eval(e.btnCheckboxTrue);return angular.isDefined(b)?b:!0}function h(){var b=a.$eval(e.btnCheckboxFalse);return angular.isDefined(b)?b:!1}f.$render=function(){d.toggleClass(b,angular.equals(f.$modelValue,g()))},d.bind(c,function(){a.$apply(function(){f.$setViewValue(d.hasClass(b)?h():g()),f.$render()})})}}}]),angular.module("estimator.controller",[]).controller("EstimateCtrl",["$scope","angularFire","Vendors",function(a,b,c){function d(){var b=0,c=0,d=0,e=0,f=0,g=19.73,h=19.73,i=a.parts.length,j=a.parts,k=0;for(k=0;i>k;k++)e+=.06*j[k].salePriceTotal,d+=.06*j[k].laborPrice,b+=j[k].salePriceTotal,c+=j[k].laborPrice;e>h&&(e=h),d>g&&(d=g),f=b+e+d,a.parts.subTotal=b+c,a.parts.tax=.06*f,a.parts.total=1.06*f+c,a.parts.hazardMaterials=e,a.parts.shopSupplies=d}function e(a){var b,c=a.costPrice,d=a.quantity,e=a.matrix;return b="tire"===e||a.tire?1.25:"dealer"===e||a.dealer?1>=c?3.5:c>1&&5>=c?3.25:c>5&&50>c?2.25:c>50&&100>=c?1.82:c>100&&175>=c?1.67:1.54:5>=c?3.25:c>5&&10>=c?2.5:c>10&&75>=c?2.25:c>75&&150>=c?2:c>150&&750>=c?1.85:1.54,b*c*d}function f(){var b;for(b=0;b<a.orders.length;b++)a.orders[b].index=b}var g=new Firebase("https://hooptie.firebaseio.com/estimator");a.orders=[],b(g,a,"orders"),a.parts=[],a.parts.index=a.orders.length,a.predicate="-date",a.vendors=c,a.item={matrix:"normal"},a.deletePart=function(b){a.parts.splice(b,1),d()},a.edit=function(b){a.item=angular.copy(a.parts[b]),a.item.originalCopy=b,d()},a.optionSelected=function(a){a.matrix=a.vendor.matrix,a.manualSale=a.vendor.manualSale},a.addToParts=function(b){var c={};c=b,c.costPrice=b.costPrice?b.costPrice:0,c.quantity=b.quantity?b.quantity:1,c.manualLabor?(c.laborPrice=c.laborPrice&&0!==c.laborPrice?parseFloat(c.laborPrice):0,c.laborHours=0!==c.laborPrice?c.laborPrice/89:0):c.laborPrice=c.laborHours?89*parseFloat(c.laborHours):0,c.salePriceTotal=c.manualSale?parseFloat(b.salePrice)*c.quantity:e(c),c.totalPrice=c.salePriceTotal+c.laborPrice,void 0!==c.originalCopy&&a.parts.splice(c.originalCopy,1),a.parts.push(c),a.item={matrix:"normal"},d()},a.duplicateOrder=function(b){orderCopy=angular.copy(b),orderCopy.index=a.orders.length,orderCopy.name=b.name+"(clone)",a.orders.push(orderCopy),f()},a.deleteOrder=function(b){a.orders.splice(b.index,1),f()},a.editOrder=function(b){a.parts=a.orders[b.index].parts,a.parts.name=a.orders[b.index].name,a.editPart=b.index,d(),f()},a.addToHistory=function(b){var c;a.editPart&&a.orders.splice(a.editPart,1),a.editPart=void 0,c={index:a.orders.length,name:b.name,date:Date.now(),total:b.total,parts:b},a.orders.push(c),a.parts=[]}}]),angular.module("estimator.service",[]).factory("Vendors",function(){var a=[{name:"Pep Boys"},{name:"Prime"},{name:"Quality"},{name:"Bap Geon"},{name:"API"},{name:"American Tire",matrix:"tire"},{name:"Atlantic Tire",matrix:"tire"},{name:"Checkered Flag",matrix:"dealer"},{name:"Colonial",matrix:"dealer"},{name:"Interstate Battery",manualSale:!0},{name:"LKQ"},{name:"Perry",matrix:"dealer"},{name:"Priority",matrix:"dealer"},{name:"Southern",matrix:"dealer"}];return a}),angular.module("scheduler.controller",[]).controller("ScheduleCtrl",["$scope","$timeout","Statuses","Time","angularFire",function(a,b,c,d,e){a.date=new Date,a.date.setHours(0,0,0,0),a.predicate="date",a.statuses=c,a.time=d;var f=new Firebase("https://hooptie.firebaseio.com/scheduler");a.appointments=[],e(f,a,"appointments");var g=function(){return{index:a.appointments.length,status:a.statuses[0].value,date:new Date,time:{hour:a.time.hours[0].hour,minute:a.time.minutes[0].minute}}};a.appointment=g(),a.incDate=function(){var b=a.date.getDate();a.date.setDate(b+1)},a.decDate=function(){var b=a.date.getDate();a.date.setDate(b-1)},a.getModels=function(){a.models=a.appointment.vehicle.make.models},a.getYears=function(){a.years=a.appointment.vehicle.model.years},a.addAppointment=function(b){b=a.appointment;var c=b.time.hour,d=b.time.minute;b.date.setHours?b.date.setHours(c,d,0,0):(b.date=new Date(b.date),b.date.setHours(c,d,0,0)),a.appointments.push(b),a.appointment=g()},a.editAppointment=function(b){var c;for(a.appointment=a.appointments[b.index],a.appointment.date=new Date(a.appointment.date),a.appointments.splice(b.index,1),a.appointment.index=a.appointments.length,c=0;c<a.appointments.length;c++)a.appointments[c].index=c},a.deleteAppointment=function(b){a.appointments.splice(b.index,1)},a.updateStatus=function(){var b=new Date,c=0;for(c=0;c<a.appointments.length;c++){var d=new Date(a.appointments[c].date);b>d&&("dropoff"===a.appointments[c].status||"waiting"===a.appointments[c].status)&&(a.appointments[c].status="warning")}},a.intervalFunction=function(){b(function(){a.updateStatus(),a.intervalFunction()},3e5)},a.intervalFunction()}]),angular.module("scheduler.filter",[]).filter("listByDate",function(){return function(a,b){var c=[],d=0;for(d=0;d<a.length;d++){var e,f=b.getDate(),g=b.getMonth(),h=new Date(a[d].date);e=h.getMonth(),h=h.getDate(),f===h&&g===e&&c.push(a[d])}return c}}),angular.module("scheduler.service",[]).factory("Statuses",function(){return[{name:"Drop-off",value:"dropoff"},{name:"Waiting",value:"waiting"},{name:"Arrived",value:"arrived"},{name:"Late",value:"warning"},{name:"No Show",value:"danger"},{name:"Complete",value:"success"},{name:"In Progress",value:"active"}]}).factory("Time",function(){return{hours:[{hour:8,name:"8"},{hour:9,name:"9"},{hour:10,name:"10"},{hour:11,name:"11"},{hour:12,name:"12"},{hour:13,name:"1"},{hour:14,name:"2"},{hour:15,name:"3"},{hour:16,name:"4"}],minutes:[{minute:0,name:"00"},{minute:15,name:"15"},{minute:30,name:"30"},{minute:45,name:"45"}]}}).factory("Hours",function(){return[{hour:8,name:"8"},{hour:9,name:"9"},{hour:10,name:"10"},{hour:11,name:"11"},{hour:12,name:"12"},{hour:13,name:"1"},{hour:14,name:"2"},{hour:15,name:"3"},{hour:16,name:"4"}]}).factory("Minutes",function(){return[{minute:0,name:"00"},{minute:15,name:"15"},{minute:30,name:"30"},{minute:45,name:"45"}]}),angular.module("secretary.controller",[]).controller("PhoneCtrl",["$scope","PhoneDirectory","angularFire",function(a,b,c){var d=new Firebase("https://hooptie.firebaseio.com/phoneList");a.phoneDirectory=[],c(d,a,"phoneDirectory"),a.delPhone=function(b){a.phoneDirectory.splice(b,1)}}]).controller("TodoCtrl",["$scope","angularFire",function(a,b){var c=new Firebase("https://hooptie.firebaseio.com/todoList");a.todos=[],b(c,a,"todos"),a.addTodo=function(b){var c=angular.copy(b);b.complete=!1,a.todos.push(c),a.newTodo={}},a.updateTodo=function(){},a.delTodo=function(b){a.todos.splice(b,1)}}]),angular.module("secretary.service",[]).factory("PhoneDirectory",function(){return[{name:"A&B AUTO PARTS",numbers:["857-1224"]},{name:"ACTION SALVAGE",numbers:["800-232-4309"]},{name:"ADJ",numbers:["1-800-238-2723"]},{name:"ATC",numbers:["853-7333"]},{name:"ALWAYS PARTS",numbers:["545-3333","558-3660"]},{name:"ALLEN'S BAP",numbers:["497-4545"]},{name:"ARECT",numbers:["622-6571"]},{name:"AUTO PARTS INTERNATIONAL",numbers:["855-0170"]},{name:"AUTO ZONE",numbers:["460-8744"]},{name:"AUTO VALUE",numbers:["497-3539"]},{name:"AUTO SALVAGE",numbers:["969-5893"]},{name:"ANDY'S WHOLESALE",numbers:["499-4178"]},{name:"AMERICAN TIRE",numbers:["855-0001"]},{name:"AMERICAN TRANSMISSION",numbers:["497-8500"]},{name:"BAP GEON",numbers:["440-0004"]},{name:"BARRY'S PERFORMANCE",numbers:["623-6568"]},{name:"BAY CHEVROLET",numbers:["855-2261 # 6"]},{name:"BAY KIA",numbers:["855-5555"]},{name:"BAY TOWING",numbers:["752-1050"]},{name:"BEACH FORD",numbers:["486-2717"]},{name:"BEACH RADIATOR",numbers:["437-7800"]},{name:"BERT'S ALIGNMENT",numbers:["499-2828"]},{name:"B & G USED AUTO",numbers:["488-4766"]},{name:"BIG AL'S",numbers:["671-7910"]},{name:"BOWER'S HILL",numbers:["488-8318"]},{name:"BRIAN'S ELECTRICAL",numbers:["575-4281"]},{name:"BROOKS SALVAGE",numbers:["800-552-6783"]},{name:"BROWNING ALTERNATOR",numbers:["460-1018"]},{name:"BUCKY'S TRANSMISSION",numbers:["499-5764"]},{name:"BUG HOUSE (FRANK)",numbers:["497-8080"]},{name:"CRW",numbers:["461-1360"]},{name:"CARQUEST",numbers:["552-0178"]},{name:"CARROLLTON USED AUTO",numbers:["238-8556"]},{name:"CANNON'S CORVETTE",numbers:["252-435-2212"]},{name:"CHARLES BARKER LEXUS",numbers:["486-3500"]},{name:"CHARLES BARKER INFINITY",numbers:["437-4014"]},{name:"CHARLES BARKER NISSAN",numbers:["284-3140"]},{name:"CHARLES BARKER TOYOTA",numbers:["437-4020"]},{name:"CHECKERED FLAG",numbers:["490-1111"]},{name:"C F TOYOTA",numbers:["687-3443"]},{name:"C F HONDA",numbers:["687-3453"]},{name:"C F ISUZU",numbers:["687-3463"]},{name:"C F LANDROVER",numbers:["490-1111"]},{name:"C F VW",numbers:["687-3465"]},{name:"C F HYUNDAI",numbers:["687-3463"]},{name:"CHARLIE",numbers:["858-0744"]},{name:"CHESAPEAKE USED PARTS",numbers:["488-4737"]},{name:"CLAYTON'S USED PARTS",numbers:["238-2886"]},{name:"JOHN CLIFTON",numbers:["291-2975"]},{name:"COMPLETE AUTO PARTS",numbers:["934-2868"]},{name:"COLONIAL CADILLAC",numbers:["455-4600"]},{name:"COLONIAL CHEVROLET",numbers:["455-4545"]},{name:"CSERS",numbers:["499-7643"]},{name:"CYL HEAD FACTORY",numbers:["465-5260"]},{name:"CUNNINGHAM BROTHERS",numbers:["800-553-7110"]},{name:"DOUG'S ELECTRICAL",numbers:["236-4781"]},{name:"DOMESTIC LUBES",numbers:["545-0143"]},{name:"DOWNTOWN AUTO PARTS",numbers:["627-4796"]},{name:"DOMINOS",numbers:["473-1120"]},{name:"E & E",numbers:["857-0838"]},{name:"FACTORY PARTS",numbers:["855-2241"]},{name:"FIRESTONE",numbers:["499-0501"]},{name:"FIRST TEAM",numbers:["420-5450 (MITSUBISHI )"]},{name:"FREEDOM FORD",numbers:["583-2331"]},{name:"GLASSMASTERS",numbers:["518-0123"]},{name:"GREEN GIFFORD",numbers:["855-2277"]},{name:"GREENBRIAR DODGE",numbers:["420-2800"]},{name:"GREENBRIAR KIA",numbers:["424-9659"]},{name:"GREENBRIAR GMC",numbers:["424-6380"]},{name:"GREENBRIAR VW",numbers:["366-0833"]},{name:"GREGORY MACHINE",numbers:["490-1606"]},{name:"HALL ACURA",numbers:["631-3063"]},{name:"HALL CHRSYLER JEEP",numbers:["598-2200","498-2370"]},{name:"HALL HYUNDAI",numbers:["928-7203"]},{name:"HALL MITSUBISHI",numbers:["631-5581"]},{name:"HALL NISSAN",numbers:["631-7616"]},{name:"HALL MAZDA",numbers:["631-7003"]},{name:"HALL SUZUKI",numbers:["928-6000"]},{name:"HEAD SHOP",numbers:["631-2110"]},{name:"HIGH LINK",numbers:["558-0558"]},{name:"HOUSE RIM & WHEELS",numbers:["493-0338"]},{name:"HUBCAP HEAVEN",numbers:["473-9441"]},{name:"HYDRA HOSE",numbers:["497-8704"]},{name:"INTERSTATE BATTERY",numbers:["461-3722"]},{name:"INGRAMS",numbers:["543-3531","855-4738"]},{name:"JASPER",numbers:["800-827-7455"]},{name:"JPW",numbers:["687-1616"]},{name:"JOHNSON'S MUSTANG",numbers:["545-8370"]},{name:"KAR TRANSPORT",numbers:["404-3007"]},{name:"KEYSTONE",numbers:["800-322-7795"]},{name:"KIMNACH FORD",numbers:["461-6401"]},{name:"KING GEORGE AUTO",numbers:["800-847-4547"]},{name:"KRAMER TIRE",numbers:["855-6234"]},{name:"LITTLE JOE'S ISUZU",numbers:["424-0774"]},{name:"LKQ",numbers:["488-0040","465-6519","805-2900(BILLY)"]},{name:"LYNNHAVEN KIA",numbers:["340-0800 #5"]},{name:"LYNNHAVEN LINCOLN MERCURY",numbers:["340-0665"]},{name:"M & J MOTORS",numbers:["596-1072"]},{name:"McKINNY SALVAGE",numbers:["393-9636","539-1178"]},{name:"METRO LOCK",numbers:["455-5500"]},{name:"METRO SALVAGE",numbers:["337-4886"]},{name:"MIKE MINER",numbers:["235-4839","430-1123","888-821-0285"]},{name:"MITCH'S MUFFLER",numbers:["877-5738"]},{name:"M & M AUTO SALVAGE",numbers:["800-533-4099"]},{name:"NORFOLK RECYCLERS",numbers:["622-5391"]},{name:"NORFOLK TIRE(HENRY)",numbers:["858-8848"]},{name:"OCEANA SALVAGE",numbers:["425-7930"]},{name:"O'MALLEYS",numbers:["934-2897"]},{name:"PEPBOYS",numbers:["461-7459"]},{name:"PERRY BUICK",numbers:["461-1227"]},{name:"PERRY SUBARU",numbers:["965-8411"]},{name:"PETES TOWING",numbers:["461-5888"]},{name:"PHILLIPS MERCEDES",numbers:["499-3771"]},{name:"PHILLIPS VOLVO",numbers:["497-4864"]},{name:"PHILLY STEAK",numbers:["588-0602"]},{name:"PICK& PULL",numbers:["417-0380"]},{name:"PIZZA HUT",numbers:["857-6666"]},{name:"PRICE'S TRANSMISSION",numbers:["497-6644"]},{name:"PRIORITY CHEVROLET",numbers:["424-1811"]},{name:"PRIORITY HYUNDAI",numbers:["420-5450"]},{name:"PRIORITY TOYOTA",numbers:["366-5000"]},{name:"PRIME",numbers:["455-5900"]},{name:"RIDDLE ACURA",numbers:["523-1188"]},{name:"ROSS AUTO PARTS",numbers:["766-1116"]},{name:"RUDY'S TRUCK & AUTO",numbers:["488-4888"]},{name:"SATURN OF VA.",numbers:["422-2099"]},{name:"SOUTHSIDE TRANSMISSION",numbers:["456-0166( JOE )"]},{name:"SPRINGMENDERS",numbers:["459-4440"]},{name:"SUFFOLK SALVAGE",numbers:["934-1976"]},{name:"SURFRIDER",numbers:["461-6488"]},{name:"TAYLOR LOCK",numbers:["434-8397"]},{name:"TECH PARTS",numbers:["962-4647"]},{name:"TIDEWATER AUTO ELECTRIC",numbers:["499-3131"]},{name:"TIDEWATER CORVETTE",numbers:["595-1967"]},{name:"TIDEWATER DRIVELINES",numbers:["424-4450"]},{name:"TIDEWATER FASTENERS",numbers:["853-7638"]},{name:"TIDEWATER MACHINE",numbers:["855-5091","FAX 855-5336"]},{name:"TOTAL EXHAUST",numbers:["397-1251"]},{name:"TRANS STAR",numbers:["853-1022"]},{name:"TRIPLE DECKER",numbers:["898-5662"]},{name:"TUBB'S AUTO PARTS",numbers:["545-8418"]},{name:"VA. BEACH DODGE",numbers:["463-6175","502-8461"]},{name:"VA.USED PARTS",numbers:["539-0520"]},{name:"UNDERPARTS WAREHOUSE",numbers:["397-1251"]},{name:"US 258 AUTO PARTS",numbers:["238-2567"]},{name:"WALT'S WATER WORKS",numbers:["599-5360"]},{name:"WHEEL RIM REPAIR",numbers:["729-1737","328-3446"]}]});